<section
  class="relative h-[65vh] flex items-center justify-center overflow-hidden"
  aria-labelledby="header-title"
  id="inicio">
  <video
    autoplay
    muted
    loop
    playsinline
    preload="none"
    poster="/assets/video/video3_opt.webp"
    class="absolute inset-0 w-full h-full object-cover lazy-video">
  </video>

  <!-- Capa oscura encima del vídeo -->
  <div class="absolute inset-0 bg-black/60"></div>

  <!-- Contenido centrado -->
  <div class="relative z-10 text-center px-4">
    <h1
      class="!text-4xl sm:!text-5xl font-extrabold text-white text-center"
      id="header-title">
      Tu defensa digital empieza aquí
    </h1>
    <p class="mt-3 text-base text-gray-300 max-w-2xl mx-auto">
      En Nyxion protegemos a empresas, pymes y profesionales frente a las
      amenazas cibernéticas. Desde auditorías web hasta monitorización 24/7 y
      respuesta ante incidentes, te ayudamos a mantener tu negocio seguro y en
      funcionamiento.
    </p>
    <div class="mt-5">
      <a
        href="#servicios"
        class="bg-primary hover:bg-secondary-blue text-white px-5 py-3 rounded-lg shadow-lg">
        Conoce nuestros servicios
      </a>
    </div>
  </div>
</section>
<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const video = document.querySelector(".lazy-video");
    if (!video) return;

    const source = document.createElement("source");
    source.src = "/assets/video/video3_opt.mp4";
    source.type = "video/mp4";

    const observer = new IntersectionObserver((entries) => {
      if (entries[0].isIntersecting) {
        video.appendChild(source);
        observer.disconnect();
      }
    });

    observer.observe(video);
  });
</script>
