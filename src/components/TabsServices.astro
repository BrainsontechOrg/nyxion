<section
  class="section tabs bg-section-dark py-16 dark:bg-surface-dark sm:py-24"
  id="servicios">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <h2
      class="text-3xl font-extrabold text-text-contrast-dark dark:text-white sm:text-4xl text-center reveal">
      Servicios Nyxion
    </h2>
    <p
      class="mt-4 text-lg text-text-muted-dark dark:text-text-muted-dark text-center reveal">
      Cobertura total en cuatro líneas:
      <strong>Preventiva</strong>, <strong>Reactiva</strong>, <strong
        >Avanzada</strong
      > y
      <strong>Formación</strong>. Intervenimos donde más impacto tiene para tu
      negocio.
    </p>

    <!-- Navegación -->
    <div
      class="tab-nav mt-12 flex justify-start md:justify-center gap-6 border-b border-border-light dark:border-border-dark px-2">
      <button
        class="tab-btn active whitespace-nowrap px-4 py-3 border-b-2 border-primary text-primary font-semibold transition-all duration-200 cursor-pointer"
        data-tab="preventiva">
        Ciberseguridad Preventiva
      </button>
      <button
        class="tab-btn whitespace-nowrap cursor-pointer px-4 py-3 border-b-2 border-transparent text-text-muted-dark hover:text-primary-light hover:border-primary-light transition-all duration-200 font-medium"
        data-tab="reactiva">
        Ciberseguridad Reactiva
      </button>
      <button
        class="tab-btn whitespace-nowrap cursor-pointer px-4 py-3 border-b-2 border-transparent text-text-muted-dark hover:text-primary-light hover:border-primary-light transition-all duration-200 font-medium"
        data-tab="avanzada">
        Ciberseguridad Avanzada
      </button>
      <button
        class="tab-btn whitespace-nowrap cursor-pointer px-4 py-3 border-b-2 border-transparent text-text-muted-dark hover:text-primary-light hover:border-primary-light transition-all duration-200 font-medium"
        data-tab="formacion">
        Formación y Concienciación
      </button>
    </div>

    <!-- Paneles -->
    <div class="tab-panels mt-12">
      <!-- Preventiva -->
      <div
        class="cards tab-panel grid gap-8 md:grid-cols-2 lg:grid-cols-3"
        id="tab-preventiva"
        role="region"
        aria-label="Ciberseguridad Preventiva">
        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Auditoría de Seguridad Integral
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Evaluación de riesgos y madurez: nube, endpoints, redes y
            aplicaciones.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Inventario y priorización de activos</li>
            <li>Gap analysis vs. buenas prácticas</li>
            <li>Roadmap de remediación</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Pentesting Web & Apps
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Pruebas de intrusión manuales con reporte ejecutivo y técnico.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>OWASP Top 10</li>
            <li>Evidencias y PoC</li>
            <li>Re-test incluido</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Seguridad de Redes & WiFi
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Hardening de infraestructura y segmentación efectiva.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Configuración segura</li>
            <li>Pruebas de cobertura</li>
            <li>Accesos privilegiados</li>
          </ul>
        </article>
      </div>

      <!-- Reactiva -->
      <div
        class="cards tab-panel hidden grid gap-8 md:grid-cols-2 lg:grid-cols-3"
        id="tab-reactiva"
        role="region"
        aria-label="Ciberseguridad Reactiva">
        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Respuesta a Incidentes
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Contención, erradicación y recuperación con guía de crisis.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Playbooks efectivos</li>
            <li>Restauración priorizada</li>
            <li>Lecciones aprendidas</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Forense Digital
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Adquisición, análisis y preservación de evidencias.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Timeline & IOC hunting</li>
            <li>Informe pericial</li>
            <li>Soporte legal</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Remediación de Vulnerabilidades
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Correcciones guiadas y verificación de efectividad.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Parcheo y hardening</li>
            <li>Revisión de accesos</li>
            <li>Validación post-fix</li>
          </ul>
        </article>
      </div>

      <!-- Avanzada -->
      <div
        class="cards tab-panel hidden grid gap-8 md:grid-cols-2 lg:grid-cols-3"
        id="tab-avanzada"
        role="region"
        aria-label="Ciberseguridad Avanzada">
        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Monitorización 24/7 (SOC/SIEM)
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Detección temprana y respuesta coordinada.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Casos de uso a medida</li>
            <li>Alertas priorizadas</li>
            <li>Informes ejecutivos</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Threat Hunting & Intel
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Búsqueda proactiva de amenazas y TTPs relevantes.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Detecciones hipotéticas</li>
            <li>IOC/IOA feed</li>
            <li>Mitre ATT&CK mapping</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Protección de Correo y Nube
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Controles avanzados para O365/Google Workspace y nubes públicas.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>DMARC, DKIM, SPF</li>
            <li>CASB / posture</li>
            <li>Automatización (SOAR) básica</li>
          </ul>
        </article>
      </div>

      <!-- Formación -->
      <div
        class="cards tab-panel hidden grid gap-8 md:grid-cols-2 lg:grid-cols-3"
        id="tab-formacion"
        role="region"
        aria-label="Formación y Concienciación">
        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Charlas & Talleres
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Sesiones prácticas orientadas a negocio y TI.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Buenas prácticas</li>
            <li>Gestión de contraseñas</li>
            <li>Seguridad móvil</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Simulacros de Phishing
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Campañas medibles con micro-learning.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Plantillas realistas</li>
            <li>KPIs por equipo</li>
            <li>Refuerzo inmediato</li>
          </ul>
        </article>

        <article
          class="card reveal rounded-lg border border-border-light bg-background-light p-6 shadow-sm dark:border-border-dark dark:bg-background-dark">
          <h3 class="font-bold text-lg text-text-light dark:text-white">
            Programas a Medida
          </h3>
          <p class="mt-2 text-text-muted-light dark:text-text-muted-dark">
            Formación por rol: directivos, finanzas, IT & soporte.
          </p>
          <ul
            class="mt-2 list-disc pl-5 text-sm text-text-muted-light dark:text-text-muted-dark">
            <li>Calendario trimestral</li>
            <li>Materiales reutilizables</li>
            <li>Certificados</li>
          </ul>
        </article>
      </div>
    </div>
  </div>
</section>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const buttons = document.querySelectorAll(".tab-btn");
    const panels = document.querySelectorAll(".tab-panel");

    if (!buttons.length || !panels.length) return;

    buttons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const target = btn.dataset.tab;

        buttons.forEach((b) => {
          b.classList.remove("active", "border-primary", "text-primary");
          b.classList.add(
            "border-transparent",
            "text-text-muted-light",
            "dark:text-text-muted-dark",
          );
        });

        // 🔹 Activar el actual
        // 🔹 Activar el actual (con más contraste)
        btn.classList.add(
          "active",
          "border-primary",
          "text-primary",
          "font-semibold",
          "brightness-125",
        );
        btn.classList.remove(
          "border-transparent",
          "text-text-muted-light",
          "dark:text-text-muted-dark",
        );

        // 🔹 Ocultar todos los paneles
        panels.forEach((panel) => panel.classList.add("hidden"));

        // 🔹 Mostrar solo el panel correspondiente
        const selected = document.getElementById(`tab-${target}`);
        if (selected) selected.classList.remove("hidden");
      });
    });
  });
</script>
<style>
  .tab-btn.active {
    color: #b9aaff !important; /* Morado más claro */
    /* border-bottom-width: 2px !important;
    border-color: #9c88ff !important; */
    font-weight: 600 !important;
    filter: brightness(1.3);
  }
  .tab-btn:hover {
    color: #b9aaff !important;
  }
</style>
